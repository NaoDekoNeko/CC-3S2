<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Users\Ademar\OneDrive\Desktop\Practica1-C3S2\Sprint5\ReSOSgame\ReSOSgame\Player.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using System;
using static ReSOSgame.Board;

namespace ReSOSgame
{
    public abstract class Player
    {
        public Player(Jugador player)
        {
            Jugador = player;
            X = -1;
            Y = -1;
        }

        public int X { get;protected set; }

        public int Y { get; protected set; }

        public Jugador Jugador { get; }

        public Cell Ficha { get; set; }

        public abstract void MakeMove(int row, int col, Cell _ficha, Game game);
    }

    public class Human : Player
    {
        public Human(Jugador player) : base(player)
        {
        }

        public override void MakeMove(int row, int col, Cell _ficha, Game game)
        {
            game.MakeMove(row, col, _ficha);
            if (game.Board.ValidMove)
            {
                Ficha = _ficha;
                X = row;
                Y = col;
            }
            else
            {
                X = -1;
                Y = -1;
            }
        }
    }

    public class Computer : Player
    {
        public Computer(Jugador player) : base(player)
        {
        }

        public override void MakeMove(int row, int col, Cell _ficha, Game game)
        {
            var numberOfEmptyCells = GetNumberOfEmptyCells(game);
            var random = new Random();
            var targetMove = random.Next(numberOfEmptyCells);
            var index = 0;
            for (var i = 0; i &lt; game.Board.Tamanio; ++i)
            for (var j = 0; j &lt; game.Board.Tamanio; ++j)
                if (game.Board.GetCell(i, j) == 0)
                {
                    if (targetMove == index)
                    {
                        //Relleno la ficha , cordenadax y cordenada y del player para que lo pinte
                        Ficha = (Cell)(random.Next(2) + 2);
                        X = i;
                        Y = j;
                        game.MakeMove(i, j, Ficha);
                        Console.WriteLine(&quot;Movimiento de la computadora:&quot;);
                        Console.WriteLine(&quot;Casilla: [{0}, {1}]&quot;, i, j);
                        Console.WriteLine(&quot;Valor de ficha: {0}&quot;, _ficha);

                        return;
                    }

                    index++;
                }
        }

        private static int GetNumberOfEmptyCells(Game game)
        {
            var numberOfEmptyCells = 0;
            for (var row = 0; row &lt; game.Board.Tamanio; ++row)
            for (var col = 0; col &lt; game.Board.Tamanio; ++col)
                if (game.Board.GetCell(row, col) == Cell.VACIA)
                    numberOfEmptyCells++;
            return numberOfEmptyCells;
        }
    }
}
    </pre>
    <script type="text/javascript">
      highlightRanges([[8,9,8,38,1],[9,9,9,10,1],[10,13,10,30,1],[11,13,11,20,1],[12,13,12,20,1],[13,9,13,10,1],[15,24,15,28,0],[15,28,15,42,1],[17,24,17,28,0],[17,29,17,43,1],[19,34,19,38,1],[21,29,21,33,1],[21,34,21,38,1],[28,40,28,52,1],[29,9,29,10,1],[30,9,30,10,1],[33,9,33,10,1],[34,13,34,45,1],[35,13,35,38,1],[36,13,36,14,1],[37,17,37,32,1],[38,17,38,25,1],[39,17,39,25,1],[40,13,40,14,1],[42,13,42,14,0],[43,17,43,24,0],[44,17,44,24,0],[45,13,45,14,0],[46,9,46,10,1],[51,43,51,55,1],[52,9,52,10,1],[53,9,53,10,1],[56,9,56,10,1],[57,13,57,66,1],[58,13,58,39,1],[59,13,59,62,1],[60,13,60,27,1],[61,18,61,27,1],[61,29,61,51,1],[61,53,61,56,1],[62,18,62,27,1],[62,29,62,51,1],[62,53,62,56,1],[63,17,63,51,1],[64,17,64,18,1],[65,21,65,45,1],[66,21,66,22,1],[68,25,68,60,1],[69,25,69,31,1],[70,25,70,31,1],[71,25,71,52,1],[72,25,72,76,1],[73,25,73,72,1],[74,25,74,74,1],[76,25,76,32,1],[79,21,79,29,1],[80,17,80,18,1],[81,9,81,10,1],[84,9,84,10,1],[85,13,85,40,1],[86,18,86,29,1],[86,31,86,55,1],[86,57,86,62,1],[87,18,87,29,1],[87,31,87,55,1],[87,57,87,62,1],[88,17,88,64,1],[89,21,89,42,1],[90,13,90,39,1],[91,9,91,10,1]]);
    </script>
  </body>
</html>